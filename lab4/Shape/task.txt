Задание 7
Вариант 1 — разбор выражения — 100 баллов
Программе в каждой строке стандартного ввода поступает арифметическое выражение в небинарной скобочной польской нотации.

Программа должна вывести результат каждого из этих выражений выражения в виде числа.

Выражение в небинарной скобочной польской нотации имеет вид:

(операция аргумент1 … аргументN)
Операция имеет не менее одного аргумента
Операция: либо сложение (символ +), либо умножение (символ *).
Каждый аргумент – либо целое (положительное либо отрицательное) число, либо выражение в скобочной польской нотации.
Результат выражения – операция, применяемая ко всем аргументам.

Примеры ввода-вывода:

Ввод	Вывод	Примечание
(+ 7)	7	Если всего один аргумент, то результат выражения – этот самый аргумент
(* 8)	8	Аналогично и тут
(+ 2 3)	5	2 + 3 = 5
(+ 2 3 4)	9	2 + 3 + 4 = 9
(* 2 4)	8	2 * 4 = 8
(* 2 3 4)	24	2 * 3 * 4 = 24
(+ (* 2 3) (* 3 4))	18	(2 * 3) + (3 * 4) = 18
(* (+ 1 2) (+ 3 1))	12	(1 + 2) * (3 + 1) = 12
(+ 5 (* 2 3 2) (+ 5 (+ 2 5) (* 2 2) ))	33	5 + (2 * 3 * 2) + (5 + (2 + 5) + (2 * 2)) = 5 + 12 + 16 = 33
(+ -2 3)	1	-2 + 3 = 1
Гарантируется, что программе поступают на вход синтаксически верные выражения.

Для работы над ней вам может понадобиться:

Уметь считывать символы из стандартного ввода:

char ch;
std::cin >> ch;
Прочитает в переменную из cin первый непробельный символ.

Возвращать последний считанный символ обратно в поток cin:

std::cin.unget();
Если после чтения символа вы решили вернуть его обратно в поток cin, то вызовите у потока метод unget.

Например

char ch1, ch2;
std::cin >> ch1;
std::cin.unget(); // вернули считанный символ в поток cin
std::cin >> ch2;
// В ch2 будет лежать тот же символ, что и в ch
Справочная информация

Нотация называется скобочной, так как выражение обязательно заключено в круглые скобки.

Нотация называется небинарной, так как количество аргументов может быть отлично от двух.

Нотация называется польской, так как её изобрёл польский математик Ян Лукасевич.

В программе должна быть выделена функция, вычисляющая значение выражения, записанного в обратной скобочной нотации. Для этой функции должны быть разработаны модульные тесты.

Бонус в 50 баллов за обработку ошибок

Если в строке содержится невалидное выражение, программа должна вывести строку ERROR вместо результата вычисления выражения. Вы можете использовать для обработки ошибок коды возврата из функции, либо механизм исключений.

Бонус в 80 баллов за нерекурсивное решение задачи

Бонус начисляется, если для разбора выражения не используется рекурсия.